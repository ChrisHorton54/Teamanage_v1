function listsLoad(){var e={name:localStorage.getItem("listName"),content:localStorage.getItem("listContent"),image:localStorage.getItem("listImage")};var t=renderRecipe(e);if(t!==false){document.getElementById("list-content").innerHTML=t}else{alert("Failed to parse downloaded json")}var n=document.getElementsByClassName("slideout-toggle-back");for(var r=0;r<n.length;r++){n[r].addEventListener("click",function(e){window.history.go(-1)})}document.getElementById("save-list").addEventListener("click",function(e){var t=JSON.parse(localStorage.getItem("lists"));var n=Math.max(document.documentElement.clientHeight,window.innerHeight||0);document.getElementById("list-content").style.height=n+"px";setTimeout(function(){for(var e=0;e<t.length;e++){if(t[e].editing=="true"){var n=document.getElementsByTagName("textarea")[0];t[e].name=document.getElementById("list-name").value;t[e].content=n.value;t[e].editing="false"}}document.getElementById("list-content").style.height="10px";localStorage.setItem("lists",JSON.stringify(t))},10);setTimeout(function(){window.location="lists.html"},1200)})}function renderRecipe(e){var t=document.getElementById("template-list-found").innerHTML,n="",r,i;n+=renderTemplate(t,e);return n}function renderTemplate(e,t){var n,r,i;for(n in t){if(t.hasOwnProperty(n)){r=t[n];i=new RegExp("{\\*"+n+"\\*}","gi");e=e.replace(i,r)}}return e}