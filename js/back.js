function recipeLoadBack(){var e={ingredients:localStorage.getItem("ingredients"),instructions:localStorage.getItem("instructions"),image:localStorage.getItem("image")};document.getElementById("header-title").innerHTML=localStorage.getItem("title");var t=renderRecipe(e);if(t!==false){document.getElementById("recipe-content").innerHTML=t}else{alert("Failed to parse downloaded json")}var n=JSON.parse(localStorage.getItem("recipes"));for(var r=0;r<n.length;r++){if(n[r].title==localStorage.getItem("title")){if(n[r].favourite=="1"){document.getElementById("add-favourites").src="img/heart-remove.png"}else{document.getElementById("add-favourites").src="img/heart.png"}}}localStorage.setItem("recipes",JSON.stringify(n));var i=document.getElementsByClassName("slideout-toggle-back");for(var r=0;r<i.length;r++){i[r].addEventListener("click",function(e){window.history.go(-1)})}document.getElementById("add-favourites").addEventListener("click",function(e){var t=JSON.parse(localStorage.getItem("recipes"));for(var n=0;n<t.length;n++){if(t[n].title==localStorage.getItem("title")){if(t[n].favourite=="0"){t[n].favourite="1";document.getElementById("add-favourites").src="img/heart-remove.png"}else{t[n].favourite="0";document.getElementById("add-favourites").src="img/heart.png"}}}localStorage.setItem("recipes",JSON.stringify(t))})}function renderRecipe(e){var t=document.getElementById("template-recipe-item").innerHTML,n="",r,i;n+=renderTemplate(t,e);return n}function renderTemplate(e,t){var n,r,i;for(n in t){if(t.hasOwnProperty(n)){r=t[n];i=new RegExp("{\\*"+n+"\\*}","gi");e=e.replace(i,r)}}return e}